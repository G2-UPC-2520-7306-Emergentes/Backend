# ======================================================
# === BLOCKCHAIN WORKER CONFIGURATION                ===
# ======================================================
server:
  port: 8084

spring:
  application:
    name: blockchain-worker-context
  jpa:
    hibernate:
      ddl-auto: update
      show-sql: true
      properties:
        hibernate:
          dialect: org.hibernate.dialect.MySQLDialect

# Secretos de Blockchain (le√≠dos SIEMPRE de variables de entorno)
blockchain:
  rpc-url: "${BLOCKCHAIN_RPC-URL}"
  contract-address: "${BLOCKCHAIN_CONTRACT-ADDRESS}"
  private-key: "${BLOCKCHAIN_PRIVATE-KEY}"

---
# ======================================================
# === PERFIL DE DESARROLLO LOCAL (default)           ===
# ======================================================
spring:
  config:
    activate:
      on-profile: "default"
  datasource:
    url: jdbc:mysql://127.0.0.1:3307/traceability_db
    username: "foodchain_user"
    password: "foodchain_password"
    driver-class-name: com.mysql.cj.jdbc.Driver
  rabbitmq:
    host: 127.0.0.1
    port: 5672
    username: "foodchain"
    password: "foodchain"

---
# ======================================================
# === PERFIL DOCKER                                  ===
# ======================================================
spring:
  config:
    activate:
      on-profile: "docker"
  datasource:
    url: "${SPRING_DATASOURCE_URL}"
    username: "${SPRING_DATASOURCE_USERNAME}"
    password: "${SPRING_DATASOURCE_PASSWORD}"
    driver-class-name: com.mysql.cj.jdbc.Driver
  rabbitmq:
    host: rabbitmq
    username: "foodchain"
    password: "foodchain"